<!DOCTYPE html>
<html>
<head>
    <title>Bank Tracker App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        body {
            background-color: #f0f2f5; 
        }

        .card {
            border: none;
            transition: transform 0.2s;
        }

        .card:hover {
            transform: translateY(-3px); 
        }
    </style>
</head>
<body>

    <header class="bg-primary text-white p-3 mb-4 shadow-sm">
        <div class="container">
            <h1 class="h3">ðŸ’° Income & Expense Tracker</h1>
        </div>
    </header>

    <main class="container">
        <div class="row mb-4 text-center">
            
            <div class="col-md-4 mb-3">
                <div class="card bg-success text-white">
                    <div class="card-body">
                        <h5 class="card-title">Total Income</h5>
                        <p class="card-text h2" id="totalIncome">â‚¹0.00</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 mb-3">
                <div class="card bg-danger text-white">
                    <div class="card-body">
                        <h5 class="card-title">Total Expense</h5>
                        <p class="card-text h2" id="totalExpense">â‚¹0.00</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 mb-3">
                <div class="card bg-info text-white">
                    <div class="card-body">
                        <h5 class="card-title">Net Balance</h5>
                        <p class="card-text h2" id="netBalance">â‚¹0.00</p>
                    </div>
                </div>
            </div>
        </div>
        
        <hr>

        <h2 class="h4 mt-4 mb-3">Add New Transaction</h2>
        <form id="transactionForm" class="p-3 border rounded shadow-sm">
            
            <div class="row g-3">
                <div class="col-md-3">
                    <label for="type" class="form-label">Type</label>
                    <select class="form-select" id="type" required>
                        <option value="income">Income</option>
                        <option value="expense">Expense</option>
                    </select>
                </div>

                <div class="col-md-4">
                    <label for="category" class="form-label">Category / Source</label>
                    <input type="text" class="form-control" id="category" placeholder="e.g., Salary, Groceries, Rent" required>
                </div>

                <div class="col-md-3">
                    <label for="amount" class="form-label">Amount (â‚¹)</label>
                    <input type="number" class="form-control" id="amount" placeholder="e.g., 5000" min="0.01" step="0.01" required>
                </div>
                
                <div class="col-md-2 d-flex align-items-end">
                    <button type="submit" class="btn btn-primary w-100">Add</button>
                </div>
            </div>
        </form>

        <hr class="my-4">

        <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="h4 mb-0">Transaction History</h2>
            <div class="col-md-3">
                <select class="form-select" id="filterType">
                    <option value="all">Show All</option>
                    <option value="income">Only Income</option>
                    <option value="expense">Only Expense</option>
                </select>
            </div>
        </div>
        
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Type</th>
                    <th>Category</th>
                    <th>Amount</th>
                    <th>Date</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="transactionList">
                </tbody>
        </table>

    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
    
        let transactions = [];
        const transactionForm = document.getElementById('transactionForm');
        const transactionList = document.getElementById('transactionList');
        const totalIncomeEl = document.getElementById('totalIncome');
        const totalExpenseEl = document.getElementById('totalExpense');
        const netBalanceEl = document.getElementById('netBalance');
        const filterTypeEl = document.getElementById('filterType'); 

        
        document.addEventListener('DOMContentLoaded', () => {
            const storedTransactions = localStorage.getItem('transactions');
            if (storedTransactions) {
                transactions = JSON.parse(storedTransactions);
            }
        
            renderTransactions(); 
            updateBalance();
        });

        
        transactionForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const type = document.getElementById('type').value;
            const category = document.getElementById('category').value.trim();
            const amount = parseFloat(document.getElementById('amount').value);
            
            if (category === '' || isNaN(amount) || amount <= 0) {
                alert('Please enter a valid category and amount.');
                return;
            }
            
            const newTransaction = {
                id: Date.now(),
                type: type,
                category: category,
                amount: amount,
                date: new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })
            };
            
            transactions.unshift(newTransaction);
            saveTransactions();
            renderTransactions(); 
            updateBalance();
            
            transactionForm.reset();
        });
        
        
        filterTypeEl.addEventListener('change', renderTransactions);


        

        function saveTransactions() {
            localStorage.setItem('transactions', JSON.stringify(transactions));
        }

        function updateBalance() {
            let totalIncome = 0;
            let totalExpense = 0;

            transactions.forEach(transaction => {
                if (transaction.type === 'income') {
                    totalIncome += transaction.amount;
                } else if (transaction.type === 'expense') {
                    totalExpense += transaction.amount;
                }
            });

            const netBalance = totalIncome - totalExpense;

            totalIncomeEl.textContent = `â‚¹${totalIncome.toFixed(2)}`;
            totalExpenseEl.textContent = `â‚¹${totalExpense.toFixed(2)}`;
            netBalanceEl.textContent = `â‚¹${netBalance.toFixed(2)}`;

    
            const netBalanceCard = netBalanceEl.closest('.card');
            netBalanceCard.classList.remove('bg-info', 'bg-danger');
            if (netBalance >= 0) {
                netBalanceCard.classList.add('bg-info');
            } else {
                netBalanceCard.classList.add('bg-danger');
            }
        }

    
        function renderTransactions() {
            
            const filterValue = filterTypeEl.value;
            
            
            const filteredTransactions = transactions.filter(transaction => {
                if (filterValue === 'all') {
                    return true;
                }
                return transaction.type === filterValue;
            });

            
            transactionList.innerHTML = ''; 

            
            filteredTransactions.forEach(transaction => {
                const row = transactionList.insertRow();
                
                const amountClass = transaction.type === 'income' ? 'text-success' : 'text-danger';
                const typeDisplay = transaction.type === 'income' ? 'Income ðŸ“ˆ' : 'Expense ðŸ“‰';

                row.innerHTML = `
                    <td>${typeDisplay}</td>
                    <td>${transaction.category}</td>
                    <td class="${amountClass}">â‚¹${transaction.amount.toFixed(2)}</td>
                    <td>${transaction.date}</td>
                    <td>
                        <button class="btn btn-sm btn-outline-danger" onclick="deleteTransaction(${transaction.id})">Delete</button>
                    </td>
                `;
            });
        }

            window.deleteTransaction = function(id) {
            transactions = transactions.filter(transaction => transaction.id !== id);
            
            saveTransactions();
            renderTransactions(); 
            updateBalance();
        }
    </script>
</body>
</html>